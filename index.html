<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Wells Fargo Smart Money – Accounts Demo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- ✅ Fullscreen / app-like behavior on iPhone & mobile -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Smart Money">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="theme-color" content="#b10e24">
  <!-- Optional icon (you can add an actual PNG called icon.png in your repo) -->
  <link rel="apple-touch-icon" href="icon.png">

  <style>
    :root {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      margin: 0;
      min-height: 100vh;
      background:
        linear-gradient(135deg, #f3f4f6, #e5e7eb);
      color: #111827;
      display: flex;
      justify-content: center;
      align-items: stretch;
    }

    .app-shell {
      width: 100%;
      max-width: 480px;
      margin: 10px auto;
      border-radius: 24px;
      border: 1px solid rgba(209, 213, 219, 0.9);
      box-shadow:
        0 24px 60px rgba(15, 23, 42, 0.18),
        0 0 0 1px rgba(148, 163, 184, 0.4);
      overflow: hidden;
      background: #f9fafb;
      display: flex;
      flex-direction: column;
      position: relative;
    }

    .brand-header {
      background: linear-gradient(135deg, #b10e24, #7f0818);
      padding: 14px 20px;
      text-align: center;
      color: #f9fafb;
      font-size: 17px;
      font-weight: 700;
      letter-spacing: 0.5px;
      border-bottom: 1px solid rgba(253, 187, 48, 0.4);
      box-shadow: 0 3px 10px rgba(0,0,0,0.25);
    }

    .app-inner {
      min-height: 100%;
      display: flex;
      flex-direction: column;
    }

    header {
      padding: 14px 18px;
      border-bottom: 1px solid rgba(209, 213, 219, 0.9);
      display: flex;
      align-items: center;
      gap: 10px;
      background:
        linear-gradient(135deg, #b10e24, #7f0818);
      color: #f9fafb;
      position: sticky;
      top: 0;
      z-index: 10;
    }

    header h1 {
      font-size: 18px;
      margin: 0;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .header-dot {
      width: 10px;
      height: 10px;
      border-radius: 999px;
      background: #fdbb30;
      box-shadow: 0 0 10px rgba(253, 187, 48, 0.9);
    }

    header .subtitle {
      font-size: 11px;
      color: rgba(249, 250, 251, 0.8);
      margin-top: 2px;
    }

    .back-btn {
      border: none;
      background: none;
      color: #f9fafb;
      font-size: 20px;
      padding: 4px 8px 4px 0;
      cursor: pointer;
      visibility: hidden;
    }

    main {
      padding: 12px 14px 18px;
      flex: 1;
    }

    /* Refresh button */
    .refresh-btn {
      margin-bottom: 14px;
      display: flex;
      justify-content: flex-end;
    }

    .refresh-btn button {
      background: #c41230; 
      border: none;
      padding: 8px 14px;
      border-radius: 999px;
      color: #f9fafb;
      font-size: 13px;
      cursor: pointer;
      font-weight: 600;
      box-shadow: 0 0 10px rgba(196, 18, 48, 0.45);
      transition: transform 0.1s ease, box-shadow 0.1s ease, opacity 0.1s ease;
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }

    .refresh-btn button:active {
      transform: scale(0.96);
      box-shadow: 0 0 6px rgba(196, 18, 48, 0.8);
    }

    .refresh-btn button:disabled {
      opacity: 0.85;
      transform: none;
    }

    .btn-spinner {
      width: 14px;
      height: 14px;
      border-radius: 999px;
      border: 2px solid rgba(249, 250, 251, 0.7);
      border-top-color: transparent;
      animation: spin 0.7s linear infinite;
    }

    @keyframes spin { to { transform: rotate(360deg); } }

    .pulse { animation: pulseAnim 0.6s ease; }

    @keyframes pulseAnim {
      0% { opacity: 0.6; transform: scale(0.97); }
      50% { opacity: 1; transform: scale(1.02); }
      100% { opacity: 1; transform: scale(1); }
    }

    /* Total summary header */
    .total-header {
      border-radius: 18px;
      padding: 12px 14px;
      margin-bottom: 12px;
      background: radial-gradient(circle at top left, #fff7ec, #fee7c2 80%);
      border: 1px solid rgba(234, 179, 8, 0.7);
      box-shadow: 0 10px 28px rgba(148, 163, 184, 0.35);
    }

    .total-label {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: #92400e;
      margin-bottom: 4px;
    }

    .total-amount {
      font-size: 22px;
      font-weight: 700;
      font-variant-numeric: tabular-nums;
    }

    .total-subtext {
      margin-top: 4px;
      font-size: 11px;
      color: #4b5563;
    }

    .summary-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 11px;
      color: #6b7280;
      margin-bottom: 10px;
    }

    .summary-pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid rgba(209, 213, 219, 0.95);
      background: linear-gradient(135deg, #fef3c7, #fee2e2);
      color: #7f1d1d;
      font-weight: 500;
    }

    .summary-pill-dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: #22c55e;
    }

    .account-list {
      border-radius: 18px;
      overflow: hidden;
      border: 1px solid rgba(209, 213, 219, 0.9);
      background: #ffffff;
    }

    .account-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 13px 14px;
      font-size: 14px;
      border-bottom: 1px solid rgba(229, 231, 235, 0.95);
      cursor: pointer;
      transition: background 0.12s ease;
    }

    .account-row:hover {
      background: #fff7f5;
    }

    .account-row-left {
      display: flex;
      flex-direction: column;
    }

    .account-bank {
      font-size: 11px;
      color: #6b7280;
      text-transform: uppercase;
      letter-spacing: 0.08em;
    }

    .account-name {
      font-size: 14px;
      font-weight: 500;
    }

    .account-right {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .account-balance {
      font-size: 15px;
      font-weight: 600;
    }

    .balance-negative { color: #b91c1c; }
    .balance-positive { color: #111827; }

    .chevron { font-size: 16px; color: #9ca3af; }

    .hidden { display: none; }

    /* Detail view */
    .detail-card {
      border-radius: 18px;
      border: 1px solid rgba(209, 213, 219, 0.95);
      background: radial-gradient(circle at top left, #fff7f5, #ffffff 70%);
      padding: 18px 16px;
      box-shadow: 0 16px 36px rgba(148, 163, 184, 0.5);
    }

    .detail-bank {
      font-size: 11px;
      color: #6b7280;
      text-transform: uppercase;
    }

    .detail-name {
      font-size: 17px;
      margin-top: 4px;
      font-weight: 600;
    }

    .detail-balance-label {
      font-size: 12px;
      color: #6b7280;
      margin-top: 16px;
    }

    .detail-balance {
      font-size: 26px;
      font-weight: 700;
      margin-top: 6px;
    }

    .detail-meta {
      margin-top: 18px;
      font-size: 12px;
      color: #4b5563;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .footer-note {
      padding: 10px 16px 14px;
      font-size: 11px;
      color: #6b7280;
      border-top: 1px solid rgba(209, 213, 219, 0.9);
      background: #f9fafb;
    }

    .toast {
      position: absolute;
      left: 50%;
      transform: translateX(-50%) translateY(20px);
      bottom: 18px;
      padding: 8px 14px;
      border-radius: 999px;
      font-size: 11px;
      background: #111827;
      border: 1px solid rgba(196, 18, 48, 0.7);
      color: #f9fafb;
      box-shadow: 0 10px 26px rgba(15, 23, 42, 0.9);
      opacity: 0;
      transition: opacity 0.18s ease, transform 0.18s ease;
      display: flex;
      align-items: center;
      gap: 6px;
      z-index: 20;
    }

    .toast-dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: #22c55e;
    }

    .toast-show {
      opacity: 1;
      transform: translateX(-50%) translateY(0);
    }

  </style>
</head>
<body>

<div class="app-shell">

  <!-- ======================= -->
  <!--  BRIX BRANDING HEADER   -->
  <!-- ======================= -->
  <div class="brand-header">Wells Fargo Smart Money Summary </div>

  <div class="app-inner">
    <header>
      <button class="back-btn" id="backButton">←</button>
      <div>
        <h1 id="headerTitle">
          <span class="header-dot"></span>
          Arjit Ghatta
        </h1>
        <div class="subtitle" id="headerSubtitle">Overall Summary between accounts.</div>
      </div>
    </header>

    <main>
      <!-- Home screen -->
      <div id="homeScreen">

        <!-- Refresh button -->
        <div class="refresh-btn">
          <button id="refreshButton">
            <span>Refresh</span>
          </button>
        </div>

        <div class="total-header">
          <div class="total-label">Total portfolio value</div>
          <div class="total-amount" id="totalValue"></div>
          <div class="total-subtext">Net across cash, investments, credit, and loans</div>
        </div>

        <div class="summary-bar">
          <div class="summary-pill">
            <div class="summary-pill-dot"></div>
            All accounts linked
          </div>
          <div id="summaryCount"></div>
        </div>

        <div class="account-list" id="accountsList"></div>
      </div>

      <!-- Detail screen -->
      <div id="detailScreen" class="hidden">
        <div class="detail-card">
          <div class="detail-bank" id="detailBank"></div>
          <div class="detail-name" id="detailName"></div>

          <div class="detail-balance-label">Current value</div>
          <div class="detail-balance" id="detailBalance"></div>

          <div class="detail-meta">
            <div id="detailLastRefreshed"></div>
            <div id="detailLinkedSince"></div>
          </div>
        </div>
      </div>
    </main>

    <div class="footer-note">
      <span>Plaid.</span> Accounts secured by Plaid. 
    </div>
  </div>

  <!-- Toast -->
  <div id="toast" class="toast">
    <div class="toast-dot"></div>
    <span>Updated just now</span>
  </div>
</div>

<script>
  // ---- Fake data ----
  const accounts = [
    { id: 'wf_roth', bank: 'Wells Fargo', name: 'Roth IRA', balance: 7489.23, linkedSince: '2023-09-15' },
    { id: 'wf_checking', bank: 'Wells Fargo', name: 'Everyday Checking', balance: 685.85, linkedSince: '2022-11-01' },
    { id: 'truist_checking', bank: 'Truist', name: 'Checking', balance: 4489.13, linkedSince: '2023-02-10' },
    { id: 'schwab', bank: 'Charles Schwab', name: 'Brokerage', balance: 34432.77, linkedSince: '2024-01-05' },
    { id: 'amex', bank: 'American Express', name: 'Delta Sky Miles Gold', balance: -610.44, linkedSince: '2022-08-20' },
    { id: 'cap1', bank: 'Capital One', name: 'QuickSilver', balance: -5.90, linkedSince: '2022-12-03' },
    { id: 'upstart', bank: 'Upstart', name: 'Personal Loan', balance: -9678.00, linkedSince: '2024-06-01' }
  ];

  function formatCurrency(amount) {
    return new Intl.NumberFormat('en-US', {
      style: 'currency',
      currency: 'USD'
    }).format(amount);
  }

  function formatDate(dateStr) {
    return new Date(dateStr).toLocaleDateString(undefined, { year:'numeric', month:'short', day:'numeric' });
  }

  function todayStr() {
    return new Date().toLocaleDateString(undefined, { year:'numeric', month:'short', day:'numeric' });
  }

  function computeTotal() {
    return accounts.reduce((sum,a) => sum + a.balance, 0);
  }

  // DOM elements
  const homeScreen = document.getElementById('homeScreen');
  const detailScreen = document.getElementById('detailScreen');
  const accountsList = document.getElementById('accountsList');
  const summaryCount = document.getElementById('summaryCount');
  const totalValueEl = document.getElementById('totalValue');
  const refreshButton = document.getElementById('refreshButton');
  const toast = document.getElementById('toast');

  const backButton = document.getElementById('backButton');
  const headerTitle = document.getElementById('headerTitle');
  const headerSubtitle = document.getElementById('headerSubtitle');
  const detailBank = document.getElementById('detailBank');
  const detailName = document.getElementById('detailName');
  const detailBalance = document.getElementById('detailBalance');
  const detailLastRefreshed = document.getElementById('detailLastRefreshed');
  const detailLinkedSince = document.getElementById('detailLinkedSince');

  let activeAccountId = null;
  let isRefreshing = false;

  function renderHome() {
    accountsList.innerHTML = '';
    summaryCount.textContent = `${accounts.length} accounts`;

    totalValueEl.textContent = formatCurrency(computeTotal());

    accounts.forEach(acc => {
      const row = document.createElement('div');
      row.className = 'account-row';

      const left = document.createElement('div');
      left.className = 'account-row-left';

      left.innerHTML = `
        <div class="account-bank">${acc.bank}</div>
        <div class="account-name">${acc.name}</div>
      `;

      const right = document.createElement('div');
      right.className = 'account-right';

      const balClass = acc.balance < 0 ? 'balance-negative' : 'balance-positive';
      right.innerHTML = `
        <div class="account-balance ${balClass}">${formatCurrency(acc.balance)}</div>
        <div class="chevron">›</div>
      `;

      row.appendChild(left);
      row.appendChild(right);

      row.onclick = () => openDetail(acc.id);
      accountsList.appendChild(row);
    });
  }

  function openDetail(id) {
    const acc = accounts.find(a => a.id === id);
    if (!acc) return;

    homeScreen.classList.add('hidden');
    detailScreen.classList.remove('hidden');
    backButton.style.visibility = 'visible';

    headerTitle.innerHTML = `<span class="header-dot"></span>${acc.bank}`;
    headerSubtitle.textContent = acc.name;

    detailBank.textContent = acc.bank;
    detailName.textContent = acc.name;
    detailBalance.textContent = formatCurrency(acc.balance);
    detailBalance.style.color = acc.balance < 0 ? '#b91c1c' : '#111827';

    detailLastRefreshed.textContent = `Last refreshed: ${todayStr()}`;
    detailLinkedSince.textContent = `Account linked since: ${formatDate(acc.linkedSince)}`;
  }

  function closeDetail() {
    detailScreen.classList.add('hidden');
    homeScreen.classList.remove('hidden');
    backButton.style.visibility = 'hidden';
    headerTitle.innerHTML = `<span class="header-dot"></span>Arjit Ghatta`;
    headerSubtitle.textContent = 'Demo · Not connected to real institutions';
  }

  backButton.onclick = closeDetail;

  function showToast(message) {
    toast.querySelector('span').textContent = message;
    toast.classList.add('toast-show');
    setTimeout(() => toast.classList.remove('toast-show'), 1800);
  }

  refreshButton.onclick = () => {
    if (isRefreshing) return;
    isRefreshing = true;

    const original = refreshButton.innerHTML;
    refreshButton.disabled = true;
    refreshButton.innerHTML = `<span class="btn-spinner"></span><span>Refreshing…</span>`;

    totalValueEl.classList.add('pulse');

    setTimeout(() => {
      renderHome();
      totalValueEl.classList.remove('pulse');
      refreshButton.disabled = false;
      refreshButton.innerHTML = original;
      isRefreshing = false;
      showToast('Updated just now');
    }, 1000);
  };

  renderHome();
</script>
</body>
</html>

